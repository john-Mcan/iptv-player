<Window x:Class="IPTVPlayer.Views.PiPWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
        Title="PiP" Width="400" Height="225"
        WindowStyle="None"
        Topmost="True"
        ResizeMode="CanResizeWithGrip"
        Background="Black"
        MinWidth="240" MinHeight="135"
        ShowInTaskbar="False">

    <vlc:VideoView x:Name="PipVideoView">
        <!-- Overlay inside VideoView.Content: rendered by ForegroundWindow above the video,
             solving the airspace problem. Background #01000000 enables mouse hit-testing
             while remaining visually transparent. -->
        <Grid Background="#01000000"
              MouseLeftButtonDown="Overlay_MouseLeftButtonDown"
              MouseEnter="Overlay_MouseEnter"
              MouseLeave="Overlay_MouseLeave"
              MouseWheel="Overlay_MouseWheel">

            <Button x:Name="CloseBtn"
                    Click="CloseButton_Click"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="0,4,4,0"
                    Width="28" Height="28"
                    Opacity="0"
                    Panel.ZIndex="10"
                    Cursor="Hand">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="#CC000000" CornerRadius="14">
                            <TextBlock Text="&#x2715;" Foreground="White"
                                       FontSize="13" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>
    </vlc:VideoView>
</Window>

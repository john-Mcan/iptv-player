<Window x:Class="IPTVPlayer.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Configuración — IPTV Player | Chucao"
        Width="440" Height="480"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource BgBrush}"
        Icon="{StaticResource ChucaoIcon}"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Loaded="Window_Loaded">

    <Window.Resources>
        <Style x:Key="DarkCheckBox" TargetType="CheckBox">
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <StackPanel Orientation="Horizontal">
                            <Border x:Name="Box" Width="18" Height="18" CornerRadius="3"
                                    Background="{StaticResource SurfaceBrush}"
                                    BorderBrush="{StaticResource BorderBrush}" BorderThickness="1"
                                    VerticalAlignment="Center">
                                <TextBlock x:Name="Check" Text="&#xE73E;"
                                           FontFamily="Segoe MDL2 Assets" FontSize="12"
                                           Foreground="{StaticResource AccentBrush}"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"
                                           Visibility="Collapsed"/>
                            </Border>
                            <ContentPresenter Margin="8,0,0,0" VerticalAlignment="Center"
                                              RecognizesAccessKey="True"/>
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="Check" Property="Visibility" Value="Visible"/>
                                <Setter TargetName="Box" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Box" Property="Background" Value="{StaticResource SurfaceHighBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="28,24">

                <!-- ═══ REPRODUCCIÓN ═══ -->
                <TextBlock Text="REPRODUCCIÓN" FontSize="11" FontWeight="SemiBold"
                           Foreground="{StaticResource AccentBrush}" Margin="0,0,0,14"/>

                <CheckBox x:Name="AutoLoadCheckBox" Style="{StaticResource DarkCheckBox}"
                          Content="Cargar última playlist automáticamente al iniciar"
                          Margin="0,0,0,18"/>

                <TextBlock Text="Intentos máximos de reconexión" FontSize="13"
                           Foreground="{StaticResource TextBrush}" Margin="0,0,0,8"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="44"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="ReconnectSlider" Style="{StaticResource SeekSlider}"
                            Minimum="1" Maximum="20"
                            IsSnapToTickEnabled="True" TickFrequency="1"
                            VerticalAlignment="Center"
                            ValueChanged="ReconnectSlider_ValueChanged"/>
                    <Border Grid.Column="1" Background="{StaticResource SurfaceBrush}"
                            CornerRadius="4" Padding="6,3" Margin="8,0,0,0"
                            HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock x:Name="ReconnectValueText" FontSize="13" FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentBrush}"
                                   HorizontalAlignment="Center"/>
                    </Border>
                </Grid>

                <!-- Separator -->
                <Border Height="1" Background="{StaticResource BorderBrush}" Margin="0,24,0,24"/>

                <!-- ═══ CONTENIDO ═══ -->
                <TextBlock Text="CONTENIDO" FontSize="11" FontWeight="SemiBold"
                           Foreground="{StaticResource AccentBrush}" Margin="0,0,0,14"/>

                <CheckBox x:Name="HideAdultCheckBox" Style="{StaticResource DarkCheckBox}"
                          Content="Ocultar contenido para adultos (+18)"
                          Margin="0,0,0,18"/>

                <!-- Separator -->
                <Border Height="1" Background="{StaticResource BorderBrush}" Margin="0,0,0,24"/>

                <!-- ═══ DATOS ═══ -->
                <TextBlock Text="DATOS" FontSize="11" FontWeight="SemiBold"
                           Foreground="{StaticResource AccentBrush}" Margin="0,0,0,14"/>

                <WrapPanel>
                    <Button x:Name="ClearHistoryBtn" Style="{StaticResource PlayerBtn}"
                            Padding="14,8" Margin="0,0,8,4"
                            Click="ClearHistory_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="ClearHistoryIcon" Text="&#xE74D;"
                                       FontFamily="Segoe MDL2 Assets" FontSize="12"
                                       VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock x:Name="ClearHistoryLabel" Text="Limpiar historial"
                                       FontSize="12.5"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="ClearFavoritesBtn" Style="{StaticResource PlayerBtn}"
                            Padding="14,8" Margin="0,0,0,4"
                            Click="ClearFavorites_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Name="ClearFavoritesIcon" Text="&#xE74D;"
                                       FontFamily="Segoe MDL2 Assets" FontSize="12"
                                       VerticalAlignment="Center" Margin="0,0,6,0"/>
                            <TextBlock x:Name="ClearFavoritesLabel" Text="Limpiar favoritos"
                                       FontSize="12.5"/>
                        </StackPanel>
                    </Button>
                </WrapPanel>

                <!-- Separator -->
                <Border Height="1" Background="{StaticResource BorderBrush}" Margin="0,24,0,24"/>

                <!-- ═══ ACERCA DE ═══ -->
                <TextBlock Text="ACERCA DE" FontSize="11" FontWeight="SemiBold"
                           Foreground="{StaticResource AccentBrush}" Margin="0,0,0,16"/>

                <StackPanel HorizontalAlignment="Center">
                    <Image Source="{StaticResource ChucaoIcon}" Width="56" Height="56"
                           HorizontalAlignment="Center" Margin="0,0,0,12"
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                    <TextBlock Text="IPTV Player | Chucao" FontSize="17" FontWeight="Bold"
                               Foreground="{StaticResource TextBrush}"
                               HorizontalAlignment="Center" Margin="0,0,0,2"/>
                    <TextBlock x:Name="VersionText" FontSize="12"
                               Foreground="{StaticResource TextDimBrush}"
                               HorizontalAlignment="Center" Margin="0,0,0,8"/>
                    <TextBlock Text="Reproductor IPTV para Windows"
                               FontSize="12" Foreground="{StaticResource TextDimBrush}"
                               HorizontalAlignment="Center" TextAlignment="Center"/>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>

        <!-- ═══ Footer ═══ -->
        <Border Grid.Row="1" Background="{StaticResource SurfaceBrush}"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0"
                Padding="28,14">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Cancelar" Style="{StaticResource PlayerBtn}"
                        Padding="20,8" Margin="0,0,8,0"
                        Click="Cancel_Click" IsCancel="True"/>
                <Button Content="Guardar" Style="{StaticResource AccentBtn}"
                        Padding="20,8"
                        Click="Save_Click" IsDefault="True"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
